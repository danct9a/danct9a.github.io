<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script type="text/javascript">
      /*function getDevices() {
        let deviceRegex = RegExp(/^\D+\d{2}\.\D{3}\d{2}$/)
        let inputTextarea = document.getElementById('inputTextarea')
        let devices = Array()
        inputTextarea.value.match(/[^\s\n,]+/g).forEach((inputMatch) => {
          if (inputMatch.match(deviceRegex)) {
            devices.push(inputMatch.match(deviceRegex).toString())
          }
        })
        return devices
      }

      function getCommands(devices) {
        let inputTextarea = document.getElementById('inputTextarea')
        let outputSelector = document.getElementById('outputSelector')
        let prefixText = document.getElementById('prefixText')
        let suffixText = document.getElementById('suffixText')
        let outputArray = Array()
        /*
salt edge99.syd99 napalm.netmiko_commands 'show version | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show system alarms | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show system errors active | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show chassis hardware | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show chassis environment | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show chassis fpc | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show chassis routing-engine | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show configuration apply-groups' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show lldp neighbor | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show lldp neighbor detail | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show interfaces terse | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show interfaces descriptions | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show interfaces extensive | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show bgp summary | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show bgp group summary | no-more' | cf-paste
salt edge99.syd99 napalm.netmiko_commands 'show route summary | no-more' | cf-paste

        
        let outputDeviceType = String()
        document.getElementsByName('routerType').forEach((routerType) => {
            if (routerType.checked) {
                outputDeviceType = routerType.id
            }
        })
        let groupCommandsSelector = document.getElementById('groupCommandsSelector')
        let outputOptions = {
          0: {
            'juniper': {'command': 'show interfaces descriptions', 'include': 'match', 'exclude': 'except'},
            'cisco': {'command': 'show interface brief', 'include': 'include', 'exclude': 'exclude'}
          },
          1: {
            'juniper': {'command': 'show ethernet-switching table', 'include': 'match', 'exclude': 'except'},
            'cisco': {'command': 'show mac address-table', 'include': 'include', 'exclude': 'exclude'}
          },
          2: {
            'juniper': {'command': 'show lldp neighbors', 'include': 'match', 'exclude': 'except'},
            'cisco': {'command': 'show lldp neighbors', 'include': 'include', 'exclude': 'exclude'}
          },
          3: {
            'juniper': {'command': 'show interfaces \\| match ae', 'include': 'match', 'exclude': 'except'},
            'cisco': {'command': 'show port-channel summary', 'include': 'include', 'exclude': 'exclude'}
          },
          4: {
            'juniper': {'command': 'show chassis hardware', 'include': 'match', 'exclude': 'except'},
            'cisco': {'command': 'show version', 'include': 'include', 'exclude': 'exclude'}
          },
        }
        
        
        let command = `${outputOptions[outputSelector.value][outputDeviceType]['command']}`
        let includeText = document.getElementById('includeText')
        if (includeText.value.length > 0) {
          command += ` \\| ${outputOptions[outputSelector.value][outputDeviceType]['include']} ${includeText.value}`
        }
        let excludeText = document.getElementById('excludeText')
        if (excludeText.value.length > 0) {
          command += ` \\| ${outputOptions[outputSelector.value][outputDeviceType]['exclude']} ${excludeText.value}`
        }

        if (groupCommandsSelector.checked) {
            outputArray.push(`salt -L "${devices.join(',')}" napalm.netmiko_commands '${command}'`)
        } else {
            devices.forEach((device) => {
                outputArray.push(`salt ${device} napalm.netmiko_commands '${command}'`)
            })
        }


        return outputArray
      }

      function updateOutput(commands) {
        let outputTextarea = document.getElementById('outputTextarea')
        outputTextarea.value = commands.join('\n')
      } */
      
    </script>
</head>
<body onload="updateOutput(getCommands(getDevices()))">
  <div class="container">
    <div class="row">
      <div class="col text-center">
        <h1>Salt Commands</h1>
      </div>
    </div>
    <div class="row">
      <div class="col text-center" id="parentDiv">
        <div class="row">
          <div class="col font-monospace p-1">
            <textarea class="form-control" aria-label="Input" rows="20" id="inputTextarea" oninput="" ondblclick="select()">salt -L 'sw01.syd99' napalm.netmiko_commands 'show port-channel summary'
sw01.syd99:
    - Flags:  D - Down        P - Up in port-channel (members)
              I - Individual  H - Hot-standby (LACP only)
              s - Suspended   r - Module-removed
              b - BFD Session Wait
              S - Switched    R - Routed
              U - Up (port-channel)
              p - Up in delay-lacp mode (member)
              M - Not in use. Min-links not met
      --------------------------------------------------------------------------------
      Group Port-       Type     Protocol  Member Ports
            Channel
      --------------------------------------------------------------------------------
      1     Po1(SU)     Eth      LACP      Eth1/49(P)   Eth1/50(P)   Eth1/51(P)
                                           Eth1/52(P)
      100   Po100(SD)   Eth      LACP      Eth1/1(I)    Eth1/2(I)
      101   Po101(SD)   Eth      LACP      Eth1/3(I)    Eth1/4(I)
      102   Po102(SD)   Eth      LACP      Eth1/5(I)    Eth1/6(I)
      103   Po103(SD)   Eth      LACP      Eth1/7(I)    Eth1/8(I)
      104   Po104(SD)   Eth      LACP      Eth1/9(I)    Eth1/10(I)
      105   Po105(SD)   Eth      LACP      Eth1/11(I)   Eth1/12(I)
      106   Po106(SD)   Eth      LACP      Eth1/13(I)   Eth1/14(I)
      107   Po107(SD)   Eth      LACP      Eth1/15(I)   Eth1/16(I)
      108   Po108(SD)   Eth      LACP      Eth1/17(I)   Eth1/18(I)
      109   Po109(SD)   Eth      LACP      Eth1/19(I)   Eth1/20(I)
      110   Po110(SD)   Eth      LACP      Eth1/21(I)   Eth1/22(I)
      111   Po111(SD)   Eth      LACP      Eth1/23(I)   Eth1/24(I)
      112   Po112(SD)   Eth      LACP      Eth1/25(I)   Eth1/26(D)
      113   Po113(SD)   Eth      LACP      Eth1/27(I)   Eth1/28(I)
      114   Po114(SD)   Eth      LACP      Eth1/29(I)   Eth1/30(I)
      115   Po115(SD)   Eth      LACP      Eth1/31(I)   Eth1/32(I)
      116   Po116(SD)   Eth      LACP      Eth1/33(I)   Eth1/34(I)
      117   Po117(SD)   Eth      LACP      Eth1/35(I)   Eth1/36(I)
      118   Po118(SD)   Eth      LACP      Eth1/37(I)   Eth1/38(I)
      119   Po119(SU)   Eth      LACP      Eth1/39(P)   Eth1/40(P)
      120   Po120(SD)   Eth      NONE      --
      121   Po121(SD)   Eth      NONE      --
</textarea>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>